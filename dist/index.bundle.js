(()=>{"use strict";var e={208:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(354),o=r.n(n),a=r(314),i=r.n(a)()(o());i.push([e.id,"* {\n  padding: 0;\n  margin: 0;\n  box-sizing: border-box;\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,\n    Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n}\n\n.grid-board {\n  display: grid;\n\n  .grid-item {\n    border-bottom: 1px solid black;\n    border-right: 1px solid black;\n  }\n\n  .row-letter,\n  .col-letter {\n    display: grid;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .row-letter {\n    border-right: 1px solid black;\n  }\n\n  .col-letter {\n    border-bottom: 1px solid black;\n  }\n\n  .ship {\n    background-color: green;\n  }\n\n  .no-placed {\n    background-color: blue;\n  }\n\n  .after-sunk {\n    background-color: pink;\n  }\n\n  .four {\n    background: pink;\n    display: grid;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .four::after {\n    content: '⚫';\n    font-size: 0.2rem;\n  }\n\n  .missed {\n    background-color: yellow;\n    display: grid;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .missed::after {\n    content: 'missed';\n    font-size: 0.59rem;\n  }\n\n  .hit,\n  .sunk {\n    background-color: red;\n  }\n}\n","",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAAA;EACE,UAAU;EACV,SAAS;EACT,sBAAsB;EACtB;wEACsE;AACxE;;AAEA;EACE,aAAa;;EAEb;IACE,8BAA8B;IAC9B,6BAA6B;EAC/B;;EAEA;;IAEE,aAAa;IACb,uBAAuB;IACvB,mBAAmB;EACrB;;EAEA;IACE,6BAA6B;EAC/B;;EAEA;IACE,8BAA8B;EAChC;;EAEA;IACE,uBAAuB;EACzB;;EAEA;IACE,sBAAsB;EACxB;;EAEA;IACE,sBAAsB;EACxB;;EAEA;IACE,gBAAgB;IAChB,aAAa;IACb,uBAAuB;IACvB,mBAAmB;EACrB;;EAEA;IACE,YAAY;IACZ,iBAAiB;EACnB;;EAEA;IACE,wBAAwB;IACxB,aAAa;IACb,uBAAuB;IACvB,mBAAmB;EACrB;;EAEA;IACE,iBAAiB;IACjB,kBAAkB;EACpB;;EAEA;;IAEE,qBAAqB;EACvB;AACF",sourcesContent:["* {\r\n  padding: 0;\r\n  margin: 0;\r\n  box-sizing: border-box;\r\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,\r\n    Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\r\n}\r\n\r\n.grid-board {\r\n  display: grid;\r\n\r\n  .grid-item {\r\n    border-bottom: 1px solid black;\r\n    border-right: 1px solid black;\r\n  }\r\n\r\n  .row-letter,\r\n  .col-letter {\r\n    display: grid;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n\r\n  .row-letter {\r\n    border-right: 1px solid black;\r\n  }\r\n\r\n  .col-letter {\r\n    border-bottom: 1px solid black;\r\n  }\r\n\r\n  .ship {\r\n    background-color: green;\r\n  }\r\n\r\n  .no-placed {\r\n    background-color: blue;\r\n  }\r\n\r\n  .after-sunk {\r\n    background-color: pink;\r\n  }\r\n\r\n  .four {\r\n    background: pink;\r\n    display: grid;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n\r\n  .four::after {\r\n    content: '⚫';\r\n    font-size: 0.2rem;\r\n  }\r\n\r\n  .missed {\r\n    background-color: yellow;\r\n    display: grid;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n\r\n  .missed::after {\r\n    content: 'missed';\r\n    font-size: 0.59rem;\r\n  }\r\n\r\n  .hit,\r\n  .sunk {\r\n    background-color: red;\r\n  }\r\n}\r\n"],sourceRoot:""}]);const s=i},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",n=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),n&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),n&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,n,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(n)for(var s=0;s<this.length;s++){var d=this[s][0];null!=d&&(i[d]=!0)}for(var c=0;c<e.length;c++){var l=[].concat(e[c]);n&&i[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),r&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=r):l[2]=r),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),t.push(l))}},t}},354:e=>{e.exports=function(e){var t=e[1],r=e[3];if(!r)return t;if("function"==typeof btoa){var n=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),a="/*# ".concat(o," */");return[t].concat([a]).join("\n")}return[t].join("\n")}},72:e=>{var t=[];function r(e){for(var r=-1,n=0;n<t.length;n++)if(t[n].identifier===e){r=n;break}return r}function n(e,n){for(var a={},i=[],s=0;s<e.length;s++){var d=e[s],c=n.base?d[0]+n.base:d[0],l=a[c]||0,u="".concat(c," ").concat(l);a[c]=l+1;var p=r(u),h={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==p)t[p].references++,t[p].updater(h);else{var m=o(h,n);n.byIndex=s,t.splice(s,0,{identifier:u,updater:m,references:1})}i.push(u)}return i}function o(e,t){var r=t.domAPI(t);return r.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,o){var a=n(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var s=r(a[i]);t[s].references--}for(var d=n(e,o),c=0;c<a.length;c++){var l=r(a[c]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}a=d}}},659:e=>{var t={};e.exports=function(e,r){var n=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,r)=>{e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var o=void 0!==r.layer;o&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,o&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var a=r.sourceMap;a&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={id:n,exports:{}};return e[n](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.nc=void 0,(()=>{var e=r(72),t=r.n(e),n=r(825),o=r.n(n),a=r(659),i=r.n(a),s=r(56),d=r.n(s),c=r(540),l=r.n(c),u=r(113),p=r.n(u),h=r(208),m={};m.styleTagTransform=p(),m.setAttributes=d(),m.insert=i().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=l(),t()(h.A,m),h.A&&h.A.locals&&h.A.locals;class f{constructor(e){this.length=e,this.hitCount=0,this.sunk=!1}hit=()=>(this.hitCount++,this.hitCount===this.length&&(this.sunk=!0),{hitCount:this.hitCount,sunk:this.sunk});isSunk=()=>this.sunk}class A{constructor(e=10){this.size=e,this.board=this.initBoard(this.size),this.placedShips=[],this.moveRecord=this.initMoveRecord(e)}initBoard=e=>{const t=new Array(e);for(let r=0;r<e;r++)t[r]=new Array(e);return t};initMoveRecord=e=>{const t=new Array(e);for(let r=0;r<t.length;r++)t[r]=new Array(e);return t};placeShip=(e,t,r)=>{if(t>=this.size)throw new Error("invalid x");if(e.length+r-1>=this.size)throw new Error(`invalid y ${e.length} ${r}`);if(this.board[t][r]=e,e.length>1)for(let n=2;n<=e.length;n++)this.board[t][r+n-1]=e;if(t-1>=0)for(let n=r-1;n<=r+e.length;n++)n<this.size&&n>=0&&(this.board[t-1][n]="no-placed");if(t+1<this.size)for(let n=r-1;n<=r+e.length;n++)n<this.size&&n>=0&&(this.board[t+1][n]="no-placed");r-1>=0&&(this.board[t][r-1]="no-placed"),r+e.length<this.size&&(this.board[t][r+e.length]="no-placed"),e.placement=[t,r],this.placedShips.push([t,r])};placeShipRandomly=e=>{let t=Math.floor(Math.random()*this.size),r=Math.floor(Math.random()*this.size);for(;this.board[t][r]||e.length+r-1>=this.size||this.board[t][r+e.length-1];)t=Math.floor(Math.random()*this.size),r=Math.floor(Math.random()*this.size);this.placeShip(e,t,r)};receiveAttack=(e,t)=>{if(!this.board[e][t]||"missed"===this.board[e][t]||"no-placed"===this.board[e][t])return this.board[e][t]="missed";const r=this.board[e][t].hit();return r.sunk?!0===this.isAllSunk()?"all sunk":"sunk":(r.hitCount>0&&(+e+1<this.size&&+t+1<this.size&&(this.board[+e+1][+t+1]="four"),+e+1<this.size&&+t-1>=0&&(this.board[+e+1][+t-1]="four"),+e-1>=0&&+t+1<this.size&&(this.board[+e-1][+t+1]="four"),+e-1>=0&&+t-1>=0&&(this.board[+e-1][+t-1]="four")),r.hitCount)};isAllSunk=()=>{let e=!0;return this.placedShips.forEach((t=>{this.board[t[0]][t[1]].isSunk()||(e=!1)})),e}}class b{constructor(e){this.playerBoard=new A(e),this.computerBoard=new A(e),this.size=e,this.initBoardRandomly(this.playerBoard),this.initBoardRandomly(this.computerBoard)}initBoardRandomly(e){[new f(4),new f(4),new f(4),new f(3),new f(2),new f(1)].forEach((t=>{e.placeShipRandomly(t)}))}checkMove(e,t,r){return"missed"!==e.board[t][r]&&"four"!==e.board[t][r]&&!e.moveRecord[t][r]}playerMove(e,t){return this.checkMove(this.computerBoard,e,t)?(this.computerBoard.moveRecord[e][t]=!0,this.computerBoard.receiveAttack(e,t)):"invalid"}computerMove(){let e=Math.floor(Math.random()*this.size),t=Math.floor(Math.random()*this.size);for(;"missed"===this.playerBoard.board[e][t]||"four"===this.playerBoard.board[e][t]||"sunk"===this.playerBoard.board[e][t]||this.playerBoard.moveRecord[e][t];)e=Math.floor(Math.random()*this.size),t=Math.floor(Math.random()*this.size);return this.playerBoard.moveRecord[e][t]=!0,{result:this.playerBoard.receiveAttack(e,t),x:e,y:t}}}!function(){const e=10;let t=new b(e);const r=document.querySelector(".info-head"),n=document.querySelector(".info"),o=(e="none")=>{document.querySelector(".computer-board").style.pointerEvents=e};let a=document.querySelectorAll(".grid-board");const i=()=>{a=document.querySelectorAll(".grid-board");for(let t of a){for(let r=0;r<=e;r++)for(let n=0;n<=e;n++)if(r||n)if(r)if(n){const e=document.createElement("div");e.classList.add("grid-item"),e.setAttribute("data-x",r-1),e.setAttribute("data-y",n-1),t.appendChild(e)}else{const e=document.createElement("div");e.classList.add("row-letter"),e.textContent=r,t.appendChild(e)}else{const e=document.createElement("div");e.classList.add("col-letter"),e.textContent=String.fromCharCode(65+n-1),t.appendChild(e)}else{const e=document.createElement("div");t.appendChild(e)}t.style.gridTemplateColumns="repeat(11, 30px)",t.style.gridAutoRows="30px"}};i();const s=()=>{t.playerBoard.board.forEach(((e,t)=>{e.forEach(((e,r)=>{if(e){const n=document.querySelector(`.player-board .grid-item[data-x="${t}"][data-y="${r}"]`);"no-placed"===e?n.classList.add("no-placed"):n.classList.add("ship")}}))}))};s();const d=()=>{const e=t.computerMove(),a=e.result,i=e.x,s=e.y;return"missed"===a&&document.querySelector(`.player-board .grid-item[data-x="${i}"][data-y="${s}"]`).classList.add("missed"),"all sunk"===a?(document.querySelector(`.player-board .grid-item[data-x="${i}"][data-y="${s}"]`).classList.add("hit"),o(),"Result:","Computer wins",r.textContent="Result:",void(n.textContent="Computer wins")):a>0||"sunk"===a?(document.querySelector(`.player-board .grid-item[data-x="${i}"][data-y="${s}"]`).classList.add("hit"),d()):void 0},c=()=>{t.computerBoard.board.forEach(((e,t)=>{e.forEach(((e,r)=>{if(e){const n=document.querySelector(`.computer-board .grid-item[data-x="${t}"][data-y="${r}"]`);"four"===e?n.classList.add("four"):"no-placed"===e?n.classList.add("no-placed"):n.classList.add("ship")}}))}))};c();const l=()=>{document.querySelector(".computer-board .grid-board").addEventListener("click",(a=>{const i=a.target;if(!i.classList.contains("grid-item"))return;const s=+i.dataset.x,l=+i.dataset.y,u=t.playerMove(s,l);if("invalid"===u)return n.textContent="Player (Invalid move please select another area)";if(n.textContent="Player","sunk"===u||"all sunk"==u){i.classList.add("sunk");const r=t.computerBoard.board[s][l].length,n=t.computerBoard.board[s][l].placement[0],o=t.computerBoard.board[s][l].placement[1];if(n-1>=0)for(let e=o-1;e<=o+r;e++)"no-placed"===t.computerBoard.board[n-1][e]&&document.querySelector(`.computer-board .grid-item[data-x="${n-1}"][data-y="${e}"]`).classList.add("after-sunk");if(n+1<e)for(let e=o-1;e<=o+r;e++)"no-placed"===t.computerBoard.board[n+1][e]&&document.querySelector(`.computer-board .grid-item[data-x="${n+1}"][data-y="${e}"]`).classList.add("after-sunk");o-1>=0&&document.querySelector(`.computer-board .grid-item[data-x="${n}"][data-y="${o-1}"]`).classList.add("after-sunk"),o+r<e&&document.querySelector(`.computer-board .grid-item[data-x="${n}"][data-y="${o+r}"]`).classList.add("after-sunk"),c()}"all sunk"===u&&(r.textContent="Result:",n.textContent="Player wins",o()),u>0&&(i.classList.add("hit"),c()),"missed"===u&&(i.classList.add("missed"),d())}))};l(),document.querySelector(".restart-btn").addEventListener("click",(()=>{a=document.querySelectorAll(".grid-board");for(let e of a){const t=document.createElement("div");t.classList.add("grid-board"),e.parentNode.appendChild(t),e.parentNode.removeChild(e)}i(),t=new b(e),s(),c(),l(),o("auto"),r.textContent="Turn:",n.textContent="Player"}))}()})()})();
//# sourceMappingURL=index.bundle.js.map